# nvdspreprocess configuration for tiled inference
# This plugin processes frames BEFORE nvinfer and implements custom tiling

[property]
enable=1
target-unique-ids=1
network-input-order=0
process-on-frame=1
gpu-id=0
unique-id=5
# Processing dimensions - nvdspreprocess scales to this before custom function
# For tiling we need full frame, but nvdspreprocess requires this to match network
# WORKAROUND: Set to 640x640 and disable custom tiling for now
processing-width=640
processing-height=640
scaling-pool-compute-hw=1
scaling-pool-memory-type=2
scaling-filter=1
scaling-buf-pool-size=4
tensor-buf-pool-size=4
# Single 640x640 input (no tiling - nvdspreprocess limitation)
network-input-shape=8;3;640;640
network-color-format=0
# FP16 to match the engine (0=FP32, 1=UINT8, 5=FP16)
tensor-data-type=5
tensor-name=input
custom-lib-path=libnvdsinfer_custom_impl_Yolo.so
custom-tensor-preparation-function=CustomTensorPreparation

[user-configs]
# Tile configuration
tiling-mode=1
tile-width=640
tile-height=640
tile-overlap=96
frame-width=1920
frame-height=1080

[group-0]
src-ids=0
dest-crop-rect-user-meta=1
process-on-roi=0
